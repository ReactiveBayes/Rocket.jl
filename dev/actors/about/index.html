<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Actor Â· Rocket.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">Rocket.jl</span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><a class="tocitem" href="../../getting-started/">Getting started</a></li><li><span class="tocitem">Manual</span><ul><li><a class="tocitem" href="../../observables/about/">Observable</a></li><li class="is-active"><a class="tocitem" href>Actor</a><ul class="internal"><li><a class="tocitem" href="#First-example"><span>First example</span></a></li><li><a class="tocitem" href="#Lambda-actor"><span>Lambda actor</span></a></li><li><a class="tocitem" href="#Function-actor"><span>Function actor</span></a></li></ul></li><li><a class="tocitem" href="../../teardown/about/">Subscription</a></li><li><a class="tocitem" href="../../operators/about/">Operator</a></li><li><a class="tocitem" href="../../subjects/about/">Subject</a></li></ul></li><li><span class="tocitem">Library</span><ul><li><input class="collapse-toggle" id="menuitem-4-1" type="checkbox"/><label class="tocitem" for="menuitem-4-1"><span class="docs-label">Observables</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../observables/types/function/">Function</a></li><li><a class="tocitem" href="../../observables/types/single/">Single</a></li><li><a class="tocitem" href="../../observables/types/array/">Array</a></li><li><a class="tocitem" href="../../observables/types/iterable/">Iterable</a></li><li><a class="tocitem" href="../../observables/types/faulted/">Faulted</a></li><li><a class="tocitem" href="../../observables/types/never/">Never</a></li><li><a class="tocitem" href="../../observables/types/completed/">Completed</a></li><li><a class="tocitem" href="../../observables/types/timer/">Timer</a></li><li><a class="tocitem" href="../../observables/types/interval/">Interval</a></li><li><a class="tocitem" href="../../observables/types/proxy/">Proxy</a></li><li><a class="tocitem" href="../../observables/types/file/">File</a></li><li><a class="tocitem" href="../../observables/types/combined/">Combined</a></li><li><a class="tocitem" href="../../observables/types/race/">Race</a></li><li><a class="tocitem" href="../../observables/types/connectable/">Connectable</a></li><li><a class="tocitem" href="../../observables/types/merged/">Merged</a></li><li><a class="tocitem" href="../../observables/types/concat/">Concat</a></li><li><a class="tocitem" href="../../observables/types/generate/">Generate</a></li><li><a class="tocitem" href="../../observables/types/network/">Network</a></li><li><a class="tocitem" href="../../observables/types/defer/">Defer</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-2" type="checkbox"/><label class="tocitem" for="menuitem-4-2"><span class="docs-label">Actors</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../types/lambda/">Lambda</a></li><li><a class="tocitem" href="../types/logger/">Logger</a></li><li><a class="tocitem" href="../types/sync/">Sync</a></li><li><a class="tocitem" href="../types/keep/">Keep</a></li><li><a class="tocitem" href="../types/void/">Void</a></li><li><a class="tocitem" href="../types/function/">Function</a></li><li><a class="tocitem" href="../types/server/">Server</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-3" type="checkbox"/><label class="tocitem" for="menuitem-4-3"><span class="docs-label">Subscriptions</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../teardown/types/void/">Void</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-4" type="checkbox"/><label class="tocitem" for="menuitem-4-4"><span class="docs-label">Operators</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../operators/all/">All</a></li><li><a class="tocitem" href="../../operators/creation/about/">Creation</a></li><li><input class="collapse-toggle" id="menuitem-4-4-3" type="checkbox"/><label class="tocitem" for="menuitem-4-4-3"><span class="docs-label">Transformation</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../operators/transformation/about/">About transformation operators</a></li><li><a class="tocitem" href="../../operators/transformation/map/">map</a></li><li><a class="tocitem" href="../../operators/transformation/map_to/">map_to</a></li><li><a class="tocitem" href="../../operators/transformation/scan/">scan</a></li><li><a class="tocitem" href="../../operators/transformation/enumerate/">enumerate</a></li><li><a class="tocitem" href="../../operators/transformation/uppercase/">uppercase</a></li><li><a class="tocitem" href="../../operators/transformation/lowercase/">lowercase</a></li><li><a class="tocitem" href="../../operators/transformation/to_array/">to_array</a></li><li><a class="tocitem" href="../../operators/transformation/switch_map/">switch_map</a></li><li><a class="tocitem" href="../../operators/transformation/switch_map_to/"><code>switch_map_to</code></a></li><li><a class="tocitem" href="../../operators/transformation/merge_map/">merge_map</a></li><li><a class="tocitem" href="../../operators/transformation/concat_map/">concat_map</a></li><li><a class="tocitem" href="../../operators/transformation/concat_map_to/"><code>concat_map_to</code></a></li><li><a class="tocitem" href="../../operators/transformation/exhaust_map/">exhaust_map</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-4-4" type="checkbox"/><label class="tocitem" for="menuitem-4-4-4"><span class="docs-label">Filtering</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../operators/filtering/about/">About filtering operators</a></li><li><a class="tocitem" href="../../operators/filtering/filter/">filter</a></li><li><a class="tocitem" href="../../operators/filtering/some/">some</a></li><li><a class="tocitem" href="../../operators/filtering/take/">take</a></li><li><a class="tocitem" href="../../operators/filtering/take_until/">take_until</a></li><li><a class="tocitem" href="../../operators/filtering/first/">first</a></li><li><a class="tocitem" href="../../operators/filtering/last/">last</a></li><li><a class="tocitem" href="../../operators/filtering/find/">find</a></li><li><a class="tocitem" href="../../operators/filtering/find_index/">find_index</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-4-5" type="checkbox"/><label class="tocitem" for="menuitem-4-4-5"><span class="docs-label">Mathematical and Aggregate</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../operators/mathematical/about/">About mathematical operators</a></li><li><a class="tocitem" href="../../operators/mathematical/count/">count</a></li><li><a class="tocitem" href="../../operators/mathematical/max/">max</a></li><li><a class="tocitem" href="../../operators/mathematical/min/">min</a></li><li><a class="tocitem" href="../../operators/mathematical/reduce/">reduce</a></li><li><a class="tocitem" href="../../operators/mathematical/sum/">sum</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-4-6" type="checkbox"/><label class="tocitem" for="menuitem-4-4-6"><span class="docs-label">Error handling</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../operators/errors/about/">About error handling operators</a></li><li><a class="tocitem" href="../../operators/errors/catch_error/">catch_error</a></li><li><a class="tocitem" href="../../operators/errors/rerun/">rerun</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-4-7" type="checkbox"/><label class="tocitem" for="menuitem-4-4-7"><span class="docs-label">Multicasting</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../operators/multicasting/about/">About multicasting operators</a></li><li><a class="tocitem" href="../../operators/multicasting/multicast/">multicast</a></li><li><a class="tocitem" href="../../operators/multicasting/publish/">publish</a></li><li><a class="tocitem" href="../../operators/multicasting/publish/">publish_behavior</a></li><li><a class="tocitem" href="../../operators/multicasting/publish/">publish_replay</a></li><li><a class="tocitem" href="../../operators/multicasting/share/">share</a></li><li><a class="tocitem" href="../../operators/multicasting/share/">share_replay</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-4-8" type="checkbox"/><label class="tocitem" for="menuitem-4-4-8"><span class="docs-label">Utility</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../operators/utility/about/">About utility operators</a></li><li><a class="tocitem" href="../../operators/utility/tap/">tap</a></li><li><a class="tocitem" href="../../operators/utility/tap_on_subscribe/"><code>tap_on_subscribe</code></a></li><li><a class="tocitem" href="../../operators/utility/tap_on_complete/"><code>tap_on_complete</code></a></li><li><a class="tocitem" href="../../operators/utility/delay/">delay</a></li><li><a class="tocitem" href="../../operators/utility/safe/">safe</a></li><li><a class="tocitem" href="../../operators/utility/noop/">noop</a></li><li><a class="tocitem" href="../../operators/utility/ref_count/">ref_count</a></li><li><a class="tocitem" href="../../operators/utility/async/">async</a></li><li><a class="tocitem" href="../../operators/utility/default_if_empty/"><code>default_if_empty</code></a></li><li><a class="tocitem" href="../../operators/utility/error_if_empty/"><code>error_if_empty</code></a></li><li><a class="tocitem" href="../../operators/utility/skip_next/">skip_next</a></li><li><a class="tocitem" href="../../operators/utility/skip_error/">skip_error</a></li><li><a class="tocitem" href="../../operators/utility/skip_complete/">skip_complete</a></li><li><a class="tocitem" href="../../operators/utility/discontinue/">discontinue</a></li></ul></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-5" type="checkbox"/><label class="tocitem" for="menuitem-4-5"><span class="docs-label">Subjects</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../subjects/types/behavior/">Behavior</a></li><li><a class="tocitem" href="../../subjects/types/replay/">Replay</a></li><li><a class="tocitem" href="../../subjects/types/pending/">Pending</a></li></ul></li></ul></li><li><span class="tocitem">API</span><ul><li><a class="tocitem" href="../../api/observables/">Observables</a></li><li><a class="tocitem" href="../../api/actors/">Actors</a></li><li><a class="tocitem" href="../../api/teardown/">Teardown</a></li><li><a class="tocitem" href="../../api/operators/">Operators</a></li><li><a class="tocitem" href="../../api/subjects/">Subjects</a></li></ul></li><li><a class="tocitem" href="../../todo/">TODO</a></li><li><a class="tocitem" href="../../contributing/">Contributing</a></li><li><a class="tocitem" href="../../utils/">Utils</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Manual</a></li><li class="is-active"><a href>Actor</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Actor</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/biaslab/Rocket.jl/blob/master/docs/src/actors/about.md" title="Edit on GitHub"><span class="docs-icon fab">ï</span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="section_actors"><a class="docs-heading-anchor" href="#section_actors">Actors</a><a id="section_actors-1"></a><a class="docs-heading-anchor-permalink" href="#section_actors" title="Permalink"></a></h1><p>An <strong>Actor</strong> is the most primitive unit of computation: it receives a message and performs a computation.</p><p>An actor is analogous to an object in an object-oriented languages. An object receives a message (a method call) and does something depending on which message it receives (the method we are calling). The main difference is that actors are completely isolated from each other, and they will never share memory. Itâs also worth mentioning that an actor can maintain a private state that should never be changed directly by another actor.</p><p>For a quick introduction to Actor models, see <a href="https://www.brianstorti.com/the-actor-model/">this article</a>.</p><p>The API of Rocket.jl&#39;s Actors is similar to <a href="https://rxjs.dev/guide/overview">RxJS</a> subscribers.</p><h2 id="First-example"><a class="docs-heading-anchor" href="#First-example">First example</a><a id="First-example-1"></a><a class="docs-heading-anchor-permalink" href="#First-example" title="Permalink"></a></h2><p>The following example implements an Actor that retains each received value from an Observable.</p><pre><code class="language-julia">using Rocket

struct CustomKeepActor &lt;: Actor{Int}
    values::Vector{Int}

    CustomKeepActor() = new(Vector{Int}())
end

Rocket.on_next!(actor::CustomKeepActor, data::Int) = push!(actor.values, data)
Rocket.on_error!(actor::CustomKeepActor, err)      = error(err)
Rocket.on_complete!(actor::CustomKeepActor)        = println(&quot;Completed!&quot;)

source     = from([ 1, 2, 3 ])
keep_actor = CustomKeepActor()
subscribe!(source, keep_actor)

# Logs
# Completed!

println(keep_actor.values)

# Logs
# [1, 2, 3]</code></pre><p>An actor may be not interested in the values itself, but merely the completion of an event. In this case, Rocket.jl provides a <a href="../../api/actors/#Rocket.CompletionActor"><code>CompletionActor</code></a> abstract type. See also <a href="../../api/actors/#Rocket.NextActor"><code>NextActor</code></a> and <a href="../../api/actors/#Rocket.ErrorActor"><code>ErrorActor</code></a>.</p><pre><code class="language-julia">using Rocket

struct CompletionNotificationActor &lt;: CompletionActor{Int} end

Rocket.on_complete!(::CompletionNotificationActor) = println(&quot;Completed!&quot;)

source = from([ 1, 2, 3 ])
subscribe!(source, CompletionNotificationActor());

# Logs
# Completed</code></pre><p>It is also possible to use Julia&#39;s multiple dispatch feature and dispatch on type of the event</p><pre><code class="language-julia">using Rocket

struct MyCustomActor &lt;: NextActor{Any} end

Rocket.on_next!(::MyCustomActor, data::Int)     = println(&quot;Int: $data&quot;)
Rocket.on_next!(::MyCustomActor, data::Float64) = println(&quot;Float64: $data&quot;)
Rocket.on_next!(::MyCustomActor, data)          = println(&quot;Something else: $data&quot;)

source = from([ 1, 1.0, &quot;string&quot; ])
subscribe!(source, MyCustomActor());

# Logs
# Int: 1
# Float64: 1.0
# Something else: string
</code></pre><h2 id="Lambda-actor"><a class="docs-heading-anchor" href="#Lambda-actor">Lambda actor</a><a id="Lambda-actor-1"></a><a class="docs-heading-anchor-permalink" href="#Lambda-actor" title="Permalink"></a></h2><p>For debugging purposes it may be convenient to work with a <a href="../types/lambda/#Rocket.LambdaActor"><code>LambdaActor</code></a>. This provides an interface that defines callbacks for &quot;next&quot;, &quot;error&quot; and &quot;complete&quot; events. But this generic actor does not allow to dispatch on type of the event.</p><pre><code class="language-julia">using Rocket

source = from([1, 2, 3])

subscribe!(source, lambda(
    on_next     = (d) -&gt; println(d),
    on_error    = (e) -&gt; error(e),
    on_complete = ()  -&gt; println(&quot;Completed&quot;)
))

# Logs
# 1
# 2
# 3
# Completed</code></pre><h2 id="Function-actor"><a class="docs-heading-anchor" href="#Function-actor">Function actor</a><a id="Function-actor-1"></a><a class="docs-heading-anchor-permalink" href="#Function-actor" title="Permalink"></a></h2><p>Sometimes it is convenient to pass only <code>on_next</code> callback. Rocket.jl provides a <code>FunctionActor</code> which automatically converts any function object passed in the <code>subscribe!</code> function to a proper actor which listens only for data events, throws an exception on error event and ignores completion message.</p><pre><code class="language-julia">using Rocket

source = from([1, 2, 3])

subscribe!(source, (d) -&gt; println(d))

# Logs
# 1
# 2
# 3</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../observables/about/">Â« Observable</a><a class="docs-footer-nextpage" href="../../teardown/about/">Subscription Â»</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Friday 3 July 2020 15:12">Friday 3 July 2020</span>. Using Julia version 1.4.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
