<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Observable · Rocket.jl</title><meta name="title" content="Observable · Rocket.jl"/><meta property="og:title" content="Observable · Rocket.jl"/><meta property="twitter:title" content="Observable · Rocket.jl"/><meta name="description" content="Documentation for Rocket.jl."/><meta property="og:description" content="Documentation for Rocket.jl."/><meta property="twitter:description" content="Documentation for Rocket.jl."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">Rocket.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><a class="tocitem" href="../../getting-started/">Getting started</a></li><li><span class="tocitem">Manual</span><ul><li class="is-active"><a class="tocitem" href>Observable</a><ul class="internal"><li><a class="tocitem" href="#First-example"><span>First example</span></a></li><li><a class="tocitem" href="#Pull-vs-Push"><span>Pull vs Push</span></a></li><li><a class="tocitem" href="#Observables-as-generalizations-of-functions"><span>Observables as generalizations of functions</span></a></li><li><a class="tocitem" href="#Anatomy-of-an-Observable"><span>Anatomy of an Observable</span></a></li></ul></li><li><a class="tocitem" href="../../actors/about/">Actor</a></li><li><a class="tocitem" href="../../teardown/about/">Subscription</a></li><li><a class="tocitem" href="../../operators/about/">Operator</a></li><li><a class="tocitem" href="../../subjects/about/">Subject</a></li></ul></li><li><span class="tocitem">Library</span><ul><li><input class="collapse-toggle" id="menuitem-4-1" type="checkbox"/><label class="tocitem" for="menuitem-4-1"><span class="docs-label">Observables</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../types/function/">Function</a></li><li><a class="tocitem" href="../types/single/">Single</a></li><li><a class="tocitem" href="../types/array/">Array</a></li><li><a class="tocitem" href="../types/iterable/">Iterable</a></li><li><a class="tocitem" href="../types/faulted/">Faulted</a></li><li><a class="tocitem" href="../types/never/">Never</a></li><li><a class="tocitem" href="../types/completed/">Completed</a></li><li><a class="tocitem" href="../types/timer/">Timer</a></li><li><a class="tocitem" href="../types/interval/">Interval</a></li><li><a class="tocitem" href="../types/proxy/">Proxy</a></li><li><a class="tocitem" href="../types/file/">File</a></li><li><a class="tocitem" href="../types/combined/">Combined</a></li><li><a class="tocitem" href="../types/combined_updates/">Combined Updates</a></li><li><a class="tocitem" href="../types/collected/">Collected</a></li><li><a class="tocitem" href="../types/race/">Race</a></li><li><a class="tocitem" href="../types/connectable/">Connectable</a></li><li><a class="tocitem" href="../types/merged/">Merged</a></li><li><a class="tocitem" href="../types/concat/">Concat</a></li><li><a class="tocitem" href="../types/generate/">Generate</a></li><li><a class="tocitem" href="../types/network/">Network</a></li><li><a class="tocitem" href="../types/defer/">Defer</a></li><li><a class="tocitem" href="../types/zipped/">Zipped</a></li><li><a class="tocitem" href="../types/labeled/">Labeled</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-2" type="checkbox"/><label class="tocitem" for="menuitem-4-2"><span class="docs-label">Actors</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../actors/types/lambda/">Lambda</a></li><li><a class="tocitem" href="../../actors/types/logger/">Logger</a></li><li><a class="tocitem" href="../../actors/types/sync/">Sync</a></li><li><a class="tocitem" href="../../actors/types/keep/">Keep</a></li><li><a class="tocitem" href="../../actors/types/circularkeep/">CircularKeep</a></li><li><a class="tocitem" href="../../actors/types/buffer/">Buffer</a></li><li><a class="tocitem" href="../../actors/types/void/">Void</a></li><li><a class="tocitem" href="../../actors/types/function/">Function</a></li><li><a class="tocitem" href="../../actors/types/server/">Server</a></li><li><a class="tocitem" href="../../actors/types/storage/">Storage</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-3" type="checkbox"/><label class="tocitem" for="menuitem-4-3"><span class="docs-label">Subscriptions</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../teardown/types/void/">Void</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-4" type="checkbox"/><label class="tocitem" for="menuitem-4-4"><span class="docs-label">Operators</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../operators/all/">All</a></li><li><a class="tocitem" href="../../operators/creation/about/">Creation</a></li><li><input class="collapse-toggle" id="menuitem-4-4-3" type="checkbox"/><label class="tocitem" for="menuitem-4-4-3"><span class="docs-label">Transformation</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../operators/transformation/about/">About transformation operators</a></li><li><a class="tocitem" href="../../operators/transformation/map/">map</a></li><li><a class="tocitem" href="../../operators/transformation/map_to/">map_to</a></li><li><a class="tocitem" href="../../operators/transformation/scan/">scan</a></li><li><a class="tocitem" href="../../operators/transformation/accumulated/">accumulated</a></li><li><a class="tocitem" href="../../operators/transformation/enumerate/">enumerate</a></li><li><a class="tocitem" href="../../operators/transformation/uppercase/">uppercase</a></li><li><a class="tocitem" href="../../operators/transformation/lowercase/">lowercase</a></li><li><a class="tocitem" href="../../operators/transformation/to_array/">to_array</a></li><li><a class="tocitem" href="../../operators/transformation/switch_map/">switch_map</a></li><li><a class="tocitem" href="../../operators/transformation/switch_map_to/"><code>switch_map_to</code></a></li><li><a class="tocitem" href="../../operators/transformation/merge_map/">merge_map</a></li><li><a class="tocitem" href="../../operators/transformation/concat_map/">concat_map</a></li><li><a class="tocitem" href="../../operators/transformation/concat_map_to/"><code>concat_map_to</code></a></li><li><a class="tocitem" href="../../operators/transformation/exhaust_map/">exhaust_map</a></li><li><a class="tocitem" href="../../operators/transformation/start_with/">start_with</a></li><li><a class="tocitem" href="../../operators/transformation/pairwise/">pairwise</a></li><li><a class="tocitem" href="../../operators/transformation/substitute/">substitute</a></li><li><a class="tocitem" href="../../operators/transformation/override/">override</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-4-4" type="checkbox"/><label class="tocitem" for="menuitem-4-4-4"><span class="docs-label">Filtering</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../operators/filtering/about/">About filtering operators</a></li><li><a class="tocitem" href="../../operators/filtering/filter/">filter</a></li><li><a class="tocitem" href="../../operators/filtering/filter_type/">filter_type</a></li><li><a class="tocitem" href="../../operators/filtering/some/">some</a></li><li><a class="tocitem" href="../../operators/filtering/take/">take</a></li><li><a class="tocitem" href="../../operators/filtering/take_until/">take_until</a></li><li><a class="tocitem" href="../../operators/filtering/first/">first</a></li><li><a class="tocitem" href="../../operators/filtering/last/">last</a></li><li><a class="tocitem" href="../../operators/filtering/find/">find</a></li><li><a class="tocitem" href="../../operators/filtering/find_index/">find_index</a></li><li><a class="tocitem" href="../../operators/filtering/ignore/">ignore</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-4-5" type="checkbox"/><label class="tocitem" for="menuitem-4-4-5"><span class="docs-label">Mathematical and Aggregate</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../operators/mathematical/about/">About mathematical operators</a></li><li><a class="tocitem" href="../../operators/mathematical/count/">count</a></li><li><a class="tocitem" href="../../operators/mathematical/max/">max</a></li><li><a class="tocitem" href="../../operators/mathematical/min/">min</a></li><li><a class="tocitem" href="../../operators/mathematical/reduce/">reduce</a></li><li><a class="tocitem" href="../../operators/mathematical/sum/">sum</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-4-6" type="checkbox"/><label class="tocitem" for="menuitem-4-4-6"><span class="docs-label">Error handling</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../operators/errors/about/">About error handling operators</a></li><li><a class="tocitem" href="../../operators/errors/catch_error/">catch_error</a></li><li><a class="tocitem" href="../../operators/errors/rerun/">rerun</a></li><li><a class="tocitem" href="../../operators/errors/error_if/">error_if</a></li><li><a class="tocitem" href="../../operators/errors/error_if_not/"><code>error_if_not</code></a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-4-7" type="checkbox"/><label class="tocitem" for="menuitem-4-4-7"><span class="docs-label">Join</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../operators/join/with_latest/">with_latest</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-4-8" type="checkbox"/><label class="tocitem" for="menuitem-4-4-8"><span class="docs-label">Multicasting</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../operators/multicasting/about/">About multicasting operators</a></li><li><a class="tocitem" href="../../operators/multicasting/multicast/">multicast</a></li><li><a class="tocitem" href="../../operators/multicasting/publish/">publish</a></li><li><a class="tocitem" href="../../operators/multicasting/publish/">publish_behavior</a></li><li><a class="tocitem" href="../../operators/multicasting/publish/">publish_replay</a></li><li><a class="tocitem" href="../../operators/multicasting/share/">share</a></li><li><a class="tocitem" href="../../operators/multicasting/share/">share_replay</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-4-9" type="checkbox"/><label class="tocitem" for="menuitem-4-4-9"><span class="docs-label">Utility</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../operators/utility/about/">About utility operators</a></li><li><a class="tocitem" href="../../operators/utility/tap/">tap</a></li><li><a class="tocitem" href="../../operators/utility/tap_on_subscribe/"><code>tap_on_subscribe</code></a></li><li><a class="tocitem" href="../../operators/utility/tap_on_unsubscribe/"><code>tap_on_unsubscribe</code></a></li><li><a class="tocitem" href="../../operators/utility/tap_on_complete/"><code>tap_on_complete</code></a></li><li><a class="tocitem" href="../../operators/utility/delay/">delay</a></li><li><a class="tocitem" href="../../operators/utility/safe/">safe</a></li><li><a class="tocitem" href="../../operators/utility/noop/">noop</a></li><li><a class="tocitem" href="../../operators/utility/ref_count/">ref_count</a></li><li><a class="tocitem" href="../../operators/utility/async/">async</a></li><li><a class="tocitem" href="../../operators/utility/default_if_empty/"><code>default_if_empty</code></a></li><li><a class="tocitem" href="../../operators/utility/error_if_empty/"><code>error_if_empty</code></a></li><li><a class="tocitem" href="../../operators/utility/skip_next/">skip_next</a></li><li><a class="tocitem" href="../../operators/utility/skip_error/">skip_error</a></li><li><a class="tocitem" href="../../operators/utility/skip_complete/">skip_complete</a></li><li><a class="tocitem" href="../../operators/utility/discontinue/">discontinue</a></li><li><a class="tocitem" href="../../operators/utility/limit_subscribers/">limit_subscribers</a></li></ul></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-5" type="checkbox"/><label class="tocitem" for="menuitem-4-5"><span class="docs-label">Subjects</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../subjects/types/subject/">Subject</a></li><li><a class="tocitem" href="../../subjects/types/behavior/">Behavior</a></li><li><a class="tocitem" href="../../subjects/types/replay/">Replay</a></li><li><a class="tocitem" href="../../subjects/types/pending/">Pending</a></li><li><a class="tocitem" href="../../subjects/types/recent/">Recent</a></li></ul></li></ul></li><li><span class="tocitem">API</span><ul><li><a class="tocitem" href="../../api/observables/">Observables</a></li><li><a class="tocitem" href="../../api/actors/">Actors</a></li><li><a class="tocitem" href="../../api/teardown/">Teardown</a></li><li><a class="tocitem" href="../../api/operators/">Operators</a></li><li><a class="tocitem" href="../../api/subjects/">Subjects</a></li></ul></li><li><a class="tocitem" href="../../todo/">TODO</a></li><li><a class="tocitem" href="../../contributing/">Contributing</a></li><li><a class="tocitem" href="../../utils/">Utils</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Manual</a></li><li class="is-active"><a href>Observable</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Observable</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/ReactiveBayes/Rocket.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/ReactiveBayes/Rocket.jl/blob/main/docs/src/observables/about.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="section_observables"><a class="docs-heading-anchor" href="#section_observables">Observables</a><a id="section_observables-1"></a><a class="docs-heading-anchor-permalink" href="#section_observables" title="Permalink"></a></h1><p>Observables are lazy Push collections of multiple values. They fill the missing spot in the following table:</p><table><tr><th style="text-align: left">Type</th><th style="text-align: left">Single</th><th style="text-align: left">Multiple</th></tr><tr><td style="text-align: left">Pull</td><td style="text-align: left">Function</td><td style="text-align: left">Iterator</td></tr><tr><td style="text-align: left">Push</td><td style="text-align: left">Promise</td><td style="text-align: left"><strong>Observable</strong></td></tr></table><h2 id="First-example"><a class="docs-heading-anchor" href="#First-example">First example</a><a id="First-example-1"></a><a class="docs-heading-anchor-permalink" href="#First-example" title="Permalink"></a></h2><p>For example, the following code specifies an Observable that pushes the values <code>1, 2, 3</code> immediately (synchronously) when subscribed to, and the value <code>4</code> after one second has passed since subscription.</p><pre><code class="language-julia hljs">using Rocket

source = make(Int) do actor
    next!(actor, 1)
    next!(actor, 2)
    next!(actor, 3)
    setTimeout(1000) do
        next!(actor, 4)
        complete!(actor)
    end
end</code></pre><p>To invoke the Observable and inspect these values, we need to subscribe to it. It is important to note that observables are lazy collections which means they don&#39;t emit anything until someone subscribes to it. Every subscription spawns its own independent execution of observable. There are some exceptions to this rule, e.g. <code>Subjects</code> and some operators (<code>share()</code>, etc..) which may change this behaviour</p><pre><code class="language-julia hljs">using Rocket

source = make(Int) do actor
    next!(actor, 1)
    next!(actor, 2)
    next!(actor, 3)
    setTimeout(1000) do
        next!(actor, 4)
        complete!(actor)
    end
end

println(&quot;Just before subscribe&quot;)
subscribe!(source, lambda(
    on_next     = (d) -&gt; println(d),
    on_complete = ()  -&gt; println(&quot;Completed&quot;)
))
println(&quot;Just after subscribe&quot;)

# Logs
# Just before subscribe
# 1
# 2
# 3
# Just after subscribe
# 4
# Completed</code></pre><h2 id="Pull-vs-Push"><a class="docs-heading-anchor" href="#Pull-vs-Push">Pull vs Push</a><a id="Pull-vs-Push-1"></a><a class="docs-heading-anchor-permalink" href="#Pull-vs-Push" title="Permalink"></a></h2><p><strong>Pull</strong> and <strong>Push</strong> are two different protocols that describe how a data <strong>Producer</strong> communicates with a data <strong>Consumer</strong>.</p><p>In a Pull system, the Consumer determines when it receives data from the Producer. The Producer itself is unaware of when the data are delivered to the Consumer.</p><p>Every Julia Function is a Pull system. The function is a Producer of data, and the code that calls the function is consuming data by &quot;pulling&quot; a return value from the call.</p><table><tr><th style="text-align: left">Type</th><th style="text-align: left">PRODUCER</th><th style="text-align: left">CONSUMER</th></tr><tr><td style="text-align: left">Pull</td><td style="text-align: left">Passive: produces data when requested.</td><td style="text-align: left">Active: decides when data is requested.</td></tr><tr><td style="text-align: left">Push</td><td style="text-align: left">Active: produces data at its own pace.</td><td style="text-align: left">Passive: reacts to received data.</td></tr></table><p>In Push systems, the Producer determines when to send data to the Consumer. The Consumer is unaware of when it will receive that data.</p><p><a href="https://en.wikipedia.org/wiki/Futures_and_promises">Futures and promises</a> are the most common type of Push systems today. A Promise (the Producer) delivers a resolved value to registered callbacks (the Consumers). Unlike functions, it is the Promise that determines precisely when a value is &quot;pushed&quot; to the callbacks.</p><p>Rocket.jl introduces Observables, a new Push system for Julia. An Observable is a Producer of multiple values, &quot;pushing&quot; them to Observers (Consumers or <a href="../../actors/about/#section_actors"><code>Actors</code></a>).</p><ul><li>A <strong>Function</strong> is a lazily evaluated computation that synchronously returns a single value on invocation.</li><li>A <strong>Generator</strong> is a lazily evaluated computation that synchronously returns zero to (potentially) infinite values on iteration.</li><li>A <strong>Promise</strong> is a computation that may (or may not) eventually return a single value.</li><li>An <strong>Observable</strong> is a lazily evaluated computation that can synchronously or asynchronously return zero to (potentially) infinite values from the time it&#39;s invoked.</li></ul><h2 id="Observables-as-generalizations-of-functions"><a class="docs-heading-anchor" href="#Observables-as-generalizations-of-functions">Observables as generalizations of functions</a><a id="Observables-as-generalizations-of-functions-1"></a><a class="docs-heading-anchor-permalink" href="#Observables-as-generalizations-of-functions" title="Permalink"></a></h2><p>In contrast to functions, Observables can &quot;return&quot; multiple values over time. For example, functions can&#39;t do this:</p><pre><code class="language-julia hljs">function foo()
    println(&quot;Hello!&quot;)
    return 0
    return 1 # Dead code, will never happen
end</code></pre><p>Observables, however, can do this:</p><pre><code class="language-julia hljs">using Rocket

foo = make(Int) do actor
    next!(actor, 0)
    next!(actor, 1)
    complete!(actor)
end
</code></pre><p>Observables can also &quot;return&quot; values asynchronously after some time:</p><pre><code class="language-julia hljs">using Rocket

foo = make(Int) do actor
    setTimeout(1000) do
        next!(actor, 0)
        complete!(actor)
    end
end</code></pre><p>Assume we have a function <code>foo</code> and some <code>observable</code>:</p><ul><li>Function call <code>foo(args...)</code> means <strong>&quot;give me one value synchronously&quot;</strong> (pull strategy)</li><li>In contrast subscription to an <code>observable</code> with <code>subscribe(observable, ...)</code> means <strong>&quot;notify me about any amount of values, either synchronously or asynchronously&quot;</strong> (push strategy)</li></ul><p>When a new value is available in an observable we say that the observable <strong>emits</strong> or <strong>generates</strong> an update. Values that are generated by an observable are sometimes also called <strong>future</strong> values, because there is no principled way to predict when an observable will generate a new value. In some programming languages, observables are referred to as <strong>generators</strong> or <strong>streams</strong> and we will use all three terms interchangeably.</p><h2 id="Anatomy-of-an-Observable"><a class="docs-heading-anchor" href="#Anatomy-of-an-Observable">Anatomy of an Observable</a><a id="Anatomy-of-an-Observable-1"></a><a class="docs-heading-anchor-permalink" href="#Anatomy-of-an-Observable" title="Permalink"></a></h2><p>Observables are (1) created using <a href="../../operators/all/#operators_list">creation operators</a> (it is also possible to build an Observable from scratch with custom logic); (2) subscribed to with an <a href="../../actors/about/#section_actors"><code>Actor</code></a>; (3) execute to deliver <code>next!</code> / <code>error!</code> / <code>complete!</code> notifications to the Actor, and (4) their execution may be disposed. These four aspects are all encoded in an Observable instance, but some of these aspects are related to other types, such as <a href="../../api/observables/#observables_api"><code>Subscribable</code></a> and <a href="../../api/teardown/#teardown_api"><code>Subscription</code></a>.</p><p>The core responsibilities of an Observable are:</p><ul><li>Creating Observables</li><li>Subscribing to Observables</li><li>Executing the Observable</li><li>Disposing Observables</li></ul><h3 id="Creating-Observables"><a class="docs-heading-anchor" href="#Creating-Observables">Creating Observables</a><a id="Creating-Observables-1"></a><a class="docs-heading-anchor-permalink" href="#Creating-Observables" title="Permalink"></a></h3><p>You can create an Observable in various ways using <a href="../../operators/all/#operators_list">Creation operators</a>. You can also build an Observable from scratch. To see how you can build an Observable with custom logic, consult the <a href="../../api/observables/#observables_api">API Section</a>.</p><h3 id="Subscribing-to-Observables"><a class="docs-heading-anchor" href="#Subscribing-to-Observables">Subscribing to Observables</a><a id="Subscribing-to-Observables-1"></a><a class="docs-heading-anchor-permalink" href="#Subscribing-to-Observables" title="Permalink"></a></h3><p>The Observable <code>source</code> in the example can be subscribed to.</p><pre><code class="language-julia hljs">using Rocket

subscribe!(source, lambda(
    on_next = (d) -&gt; println(d)
))</code></pre><p>This example shows how subscribe calls are not shared among multiple Actors of the same Observable. When calling <code>subscribe!</code> with an Actor, the function <code>on_subscribe!</code> that is attached to this particular Observable is executed for that given actor. Each call to <code>subscribe!</code> triggers its own independent setup for that given actor.</p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>Subscribing to an Observable is like calling a function, providing callbacks where the data will be delivered to.</p></div></div><p>The <code>subscribe!</code> function also supports multiple subscriptions at once. If the input argument to the <code>subscribe!</code> function is a tuple or a vector, it will first check that all of the arguments are valid source objects and actors and if its true will subscribe from each of them individually.</p><pre><code class="language-julia hljs">
source1 = Subject(Int)
source2 = Subject(Int)

subscriptions = subscribe!([
    (source1, logger()),
    (source2, logger()),
])

# Later on
# unsubscribe!(subscriptions)
</code></pre><h3 id="Executing-Observables"><a class="docs-heading-anchor" href="#Executing-Observables">Executing Observables</a><a id="Executing-Observables-1"></a><a class="docs-heading-anchor-permalink" href="#Executing-Observables" title="Permalink"></a></h3><p>The execution produces multiple values over time, either synchronously or asynchronously.</p><p>An Observable Execution can deliver three types of notifications:</p><ul><li><strong>Next</strong>: sends a value, such as an Int, String, Dict, etc.;</li><li><strong>Error</strong>: sends any error as a value;</li><li><strong>Complete</strong>: does not send a value.</li></ul><p>&quot;Next&quot; notifications are the most important and most common type: they represent actual data being delivered to an subscriber. &quot;Error&quot; and &quot;Complete&quot; notifications terminate the Observable Execution.</p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>In an Observable Execution, any number of Next notifications may be delivered. However, once a single Error or Complete notification is delivered, nothing else can be delivered afterwards.</p></div></div><p>The following is an example of an Observable execution that delivers three Next notifications and subsequently completes:</p><pre><code class="language-julia hljs">using Rocket

source = make(Int) do actor
    next!(actor, 1)
    next!(actor, 2)
    next!(actor, 3)
    complete!(actor)
end

# or the same with creation operator

source = from([ 1, 2, 3 ])</code></pre><p>It is advised to wrap any code in subscribe by a try/catch block that delivers an Error notification upon an exception:</p><pre><code class="language-julia hljs">using Rocket

source = make(Int) do actor
    try
        next!(actor, 1)
        next!(actor, 2)
        next!(actor, 3)
        complete!(actor)
    catch e
        error!(actor, e)
    end
end
</code></pre><h3 id="Disposing-Observable-Executions"><a class="docs-heading-anchor" href="#Disposing-Observable-Executions">Disposing Observable Executions</a><a id="Disposing-Observable-Executions-1"></a><a class="docs-heading-anchor-permalink" href="#Disposing-Observable-Executions" title="Permalink"></a></h3><p>It is common for an Actor to abort execution of an Observable Execution. Once the Actor is done receiving values, it may stop the execution in order to free computation power or memory resources.</p><p>When <code>subscribe!</code> is called, the Actor gets attached to the newly created Observable execution. This call also returns an object, the <a href="../../teardown/about/#section_subscription"><code>Subscription</code></a>:</p><pre><code class="language-julia hljs">subscription = subscribe!(source, actor)</code></pre><p>The Subscription represents the ongoing execution, and has a minimal API that allows you to cancel the execution. Read more about <a href="../../teardown/about/#section_subscription"><code>Subscription type here</code></a>.</p><p>With</p><pre><code class="language-julia hljs">unsubscribe!(subscription)</code></pre><p>you can cancel the ongoing execution.</p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p><code>subscribe!</code> returns a Subscription that represents the ongoing execution. Simply call <code>unsubscribe!</code> on the Subscription to cancel the execution.</p></div></div></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../getting-started/">« Getting started</a><a class="docs-footer-nextpage" href="../../actors/about/">Actor »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.3.0 on <span class="colophon-date" title="Tuesday 2 April 2024 08:13">Tuesday 2 April 2024</span>. Using Julia version 1.10.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
